---
import Layout from '../components/Layout.astro';
import { siteConfig } from '../config.ts';
import { servicesContent } from '../content/services';
import { consultingIMContent } from '../content/consulting-im';
import * as LucideIcons from '@lucide/astro';
import { marked } from 'marked';

const service = servicesContent[1];
const bodyHtml = await marked(service.body);
---

<Layout title={`${service.title} - ${siteConfig.site.title}`} description={service.description}>
  <main class="min-h-screen">
    <div class="mx-auto max-w-7xl px-4 py-20 sm:px-6 lg:px-8">
      <div class="mt-12 mb-12">
        <h1 class="text-5xl font-bold mb-8 text-center">{service.title}</h1>
        <div class="md:columns-2 gap-8 text-lg text-gray-700 leading-relaxed [&>p]:mb-4" set:html={bodyHtml}></div>
      </div>

      {
        consultingIMContent.map((group, groupIndex) => (
          <section class="mt-16">
            <h2 class="scroll-fade-up text-3xl font-bold mb-8 text-center">{group.groupTitle}</h2>
            <div class="grid grid-cols-1 gap-8 md:grid-cols-3">
              {
                group.items.map((item, itemIndex) => {
                  const IconComponent = LucideIcons[item.icon];
                  return (
                  <div
                    class={`group block scroll-fade-up bg-[var(--color-bg-card)] border-mono-lighter rounded-xl border p-8 stagger-${((groupIndex * 3 + itemIndex) % 9) + 1} hover:shadow-lg transition-shadow`}
                  >
                    <div class="flex items-center gap-4 mb-3">
                      <div class="feature-icon bg-[var(--color-orange)] flex h-14 w-14 items-center justify-center rounded-lg text-white flex-shrink-0">
                        <IconComponent class="h-7 w-7" />
                      </div>
                      <h3 class="text-mono-black text-xl font-semibold card-title">
                        {item.title}
                      </h3>
                    </div>
                    <p class="text-mono-dark leading-relaxed">{item.description}</p>
                  </div>
                  );
                })
              }
            </div>
          </section>
        ))
      }
    </div>
  </main>
</Layout>
