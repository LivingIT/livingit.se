---
import Layout from '../components/Layout.astro';
import { siteConfig } from '../config.ts';
import { servicesContent } from '../content/services';
import { consultingIMContent } from '../content/consulting-im';
import { Icon } from 'astro-icon/components';
import { marked } from 'marked';

const service = servicesContent[1];
const bodyHtml = await marked(service.body);
---

<Layout title={`${service.title} - ${siteConfig.site.title}`} description={service.description}>
  <main class="min-h-screen bg-white">
    <div class="mx-auto max-w-7xl px-4 py-20 sm:px-6 lg:px-8">
      <div class="mt-12 mb-12">
        <h1 class="text-5xl font-bold mb-8 text-center">{service.title}</h1>
        <div class="md:columns-2 gap-8 text-lg text-gray-700 leading-relaxed [&>p]:mb-4" set:html={bodyHtml}></div>
      </div>

      {
        consultingIMContent.map((group) => (
          <section class="mt-16">
            <h2 class="text-3xl font-bold mb-8 text-center">{group.groupTitle}</h2>
            <div class="grid grid-cols-1 gap-8 md:grid-cols-3">
              {
                group.items.map((item) => (
                  <div
                    class={`group block bg-[var(--color-bg-service-im-card)] border-mono-lighter rounded-xl border p-8 hover:shadow-lg transition-shadow`}
                  >
                    <div class="feature-icon bg-mono-black mb-6 flex h-14 w-14 items-center justify-center rounded-lg text-white">
                      <Icon name={item.icon} class="h-7 w-7" />
                    </div>
                    <h3 class="text-mono-black mb-3 text-xl font-semibold">
                      {item.title}
                    </h3>
                    <p class="text-mono-dark leading-relaxed">{item.description}</p>
                  </div>
                ))
              }
            </div>
          </section>
        ))
      }
    </div>
  </main>
</Layout>
